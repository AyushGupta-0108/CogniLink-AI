<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CogniLink AI Demo</title>
<style>
  :root {
    --bg: #0b0f19;
    --sidebar: #0e1424;
    --main: #111827;
    --bubble-ai: #1e293b;
    --bubble-user: #374151;
    --muted: #94a3b8;
    --accent1: #374151;
    --accent2: #6b7280;
  }
  * { box-sizing: border-box; margin:0; padding:0; }
  body {
    background: var(--bg);
    font-family: sans-serif;
    color: #f1f5f9;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }
  .app {
    display:flex;
    width:100%;
    max-width:1100px;
    height:90vh;
    border-radius:16px;
    overflow:hidden;
    box-shadow:0 20px 50px rgba(0,0,0,0.6);
  }
  .sidebar {
    width:260px;
    background:var(--sidebar);
    display:flex;
    flex-direction:column;
    padding:20px;
  }
  .brand { font-weight:800; font-size:18px; margin-bottom:20px; }
  .new-chat {
    background:linear-gradient(90deg,var(--accent1),var(--accent2));
    border:none; padding:10px 14px; border-radius:10px;
    color:#fff; font-weight:600; cursor:pointer; margin-bottom:20px;
  }
  .chats { flex:1; overflow:auto; }
  .chat-item {
    padding:8px 10px; border-radius:8px; margin-bottom:8px;
    background:rgba(255,255,255,0.03); font-size:14px;
  }
  .note { font-size:12px; color:var(--muted); margin-top:auto; }
  .main { flex:1; background:var(--main); display:flex; flex-direction:column; padding:20px; }
  .header { margin-bottom:12px; }
  .header small { color:var(--muted); font-size:13px; }
  .header h1 { font-size:22px; margin-top:4px; font-weight:700; }
  .chat-window {
    flex:1; overflow:auto; display:flex; flex-direction:column; gap:10px; padding-right:4px;
  }
  .bubble {
    padding:10px 14px; border-radius:12px; max-width:70%; font-size:15px; line-height:1.4;
  }
  .ai { background:var(--bubble-ai); align-self:flex-start; }
  .user { background:var(--bubble-user); color:#fff; align-self:flex-end; }
  .input-area { display:flex; gap:10px; margin-top:12px; }
  .input-area input {
    flex:1; padding:12px 14px; border-radius:12px;
    border:1px solid rgba(255,255,255,0.05);
    background:rgba(255,255,255,0.02);
    color:#fff; font-size:15px; outline:none;
  }
  .send-btn {
    width:46px; height:46px; border-radius:50%;
    border:none; background:linear-gradient(90deg,var(--accent1),var(--accent2));
    color:#fff; font-size:18px; cursor:pointer;
  }
</style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="brand">CogniLink AI</div>
    <button class="new-chat">+ New Chat</button>
    <div class="chats">
      <div class="chat-item">Recent chats</div>
    </div>
    <div class="note">Demo frontend. Connected to Make.com webhook.</div>
  </aside>

  <main class="main">
    <div class="header">
      <small>Welcome</small>
      <h1>How can I help you?</h1>
    </div>
    <div class="chat-window" id="chatWindow"></div>
    <div class="input-area">
      <input id="userInput" placeholder="Enter message...">
      <button class="send-btn" id="sendBtn">üëç</button>
    </div>
  </main>
</div>

<script>
  const sendBtn = document.getElementById('sendBtn');
  const userInput = document.getElementById('userInput');
  const chatWindow = document.getElementById('chatWindow');

  function addMessage(text, role) {
    const div = document.createElement('div');
    div.classList.add('bubble', role);
    div.textContent = text;
    chatWindow.appendChild(div);
    chatWindow.scrollTop = chatWindow.scrollHeight;
  }

  async function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;
    addMessage(text, 'user');
    userInput.value = '';

    try {
      // Your live Make.com webhook URL
      const webhookUrl = "https://hook.eu2.make.com/g4pvsb1v98ny3uz4km2u4j9wytwdar5r";
      const res = await fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ message: text })
      });

      // If you add a Webhook Response module in Make, this will return data
      const data = await res.json();
      addMessage(data.reply || "Response received from Make.", 'ai');
    } catch (err) {
      addMessage("Error contacting webhook.", 'ai');
    }
  }

  sendBtn.addEventListener('click', sendMessage);
  userInput.addEventListener('keypress', e => {
    if (e.key === 'Enter') sendMessage();
  });
</script>
</body>
</html>